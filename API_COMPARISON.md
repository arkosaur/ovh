# OVH API è·¯å¾„å¯¹æ¯”

## ğŸ”§ å·²ä¿®å¤çš„é—®é¢˜

### 1. é‡è£…ç³»ç»ŸAPI

**âŒ ä¹‹å‰ä½¿ç”¨ï¼ˆé”™è¯¯ï¼‰ï¼š**
```python
POST /dedicated/server/{serviceName}/install/start
```

**âœ… ç°åœ¨ä½¿ç”¨ï¼ˆæ­£ç¡®ï¼‰ï¼š**
```python
POST /dedicated/server/{serviceName}/reinstall
```

### 2. æŸ¥è¯¢åˆ†åŒºæ–¹æ¡ˆAPI

**å½“å‰ä½¿ç”¨ï¼ˆå¯ç”¨ï¼‰ï¼š**
```python
GET /dedicated/installationTemplate/{templateName}/partitionScheme
```
- âœ… å·²éªŒè¯å¯ç”¨
- âœ… æµ‹è¯•è„šæœ¬æˆåŠŸè¿”å› ['default']
- âœ… è·å–åˆ°åˆ†åŒºè¯¦æƒ…

**å¯é€‰çš„æ›´å¥½æ–¹æ¡ˆï¼š**
```python
GET /dedicated/server/{serviceName}/install/compatibleTemplatePartitionSchemes
```
- âœ… ä¸“é—¨ä¸ºè¯¥æœåŠ¡å™¨è®¾è®¡
- âœ… è¿”å›æœåŠ¡å™¨å…¼å®¹çš„åˆ†åŒºæ–¹æ¡ˆ
- âš ï¸ éœ€è¦æµ‹è¯•æ˜¯å¦æ›´å‡†ç¡®

## ğŸ“Š å‚æ•°ç»“æ„

### æ­£ç¡®çš„reinstallè¯·æ±‚ä½“ï¼š

```json
{
  "templateName": "debian11_64",
  "customHostname": "server1.example.com",  // å¯é€‰
  "storage": [                               // å¯é€‰
    {
      "partitioning": [
        {
          "schemeName": "default",           // åˆ†åŒºæ–¹æ¡ˆåç§°
          "layout": [                        // å¯é€‰ï¼šå®Œå…¨è‡ªå®šä¹‰åˆ†åŒº
            {
              "mountPoint": "/",
              "fileSystem": "ext4",
              "size": 20480,
              "raidLevel": 1
            }
          ]
        }
      ]
    }
  ]
}
```

## ğŸ¯ å½“å‰å®ç°çŠ¶æ€

### âœ… å·²å®ç°ï¼š
1. æ­£ç¡®çš„APIè·¯å¾„ `/reinstall`
2. æ­£ç¡®çš„å‚æ•°ç»“æ„ `storage.partitioning.schemeName`
3. åˆ†åŒºæ–¹æ¡ˆæŸ¥è¯¢å’Œå±•ç¤º
4. ç”¨æˆ·å¯é€‰æ‹©é»˜è®¤æˆ–è‡ªå®šä¹‰åˆ†åŒº

### ğŸ”„ å¯é€‰æ”¹è¿›ï¼š
1. ä½¿ç”¨ `compatibleTemplatePartitionSchemes` APIï¼ˆæœåŠ¡å™¨ä¸“ç”¨ï¼‰
2. æ”¯æŒå®Œå…¨è‡ªå®šä¹‰åˆ†åŒºï¼ˆlayoutå‚æ•°ï¼‰

## ğŸ§ª æµ‹è¯•å»ºè®®

### æµ‹è¯•1: ä½¿ç”¨é»˜è®¤åˆ†åŒº
```
1. é€‰æ‹© debian11_64
2. åˆ†åŒºæ–¹æ¡ˆé€‰æ‹©ï¼š"ä½¿ç”¨é»˜è®¤åˆ†åŒºï¼ˆæ¨èï¼‰"
3. æäº¤å®‰è£…
4. éªŒè¯åç«¯æ—¥å¿—æ— åˆ†åŒºå‚æ•°
```

### æµ‹è¯•2: ä½¿ç”¨è‡ªå®šä¹‰åˆ†åŒºæ–¹æ¡ˆ
```
1. é€‰æ‹© debian11_64  
2. åˆ†åŒºæ–¹æ¡ˆé€‰æ‹©ï¼š"default (3 ä¸ªåˆ†åŒº)"
3. æäº¤å®‰è£…
4. éªŒè¯åç«¯æ—¥å¿—æ˜¾ç¤ºï¼šä½¿ç”¨è‡ªå®šä¹‰åˆ†åŒºæ–¹æ¡ˆ: default
```

### æµ‹è¯•3: éªŒè¯APIè°ƒç”¨
```
åç«¯æ—¥å¿—åº”æ˜¾ç¤ºï¼š
POST /dedicated/server/xxx/reinstall
è€Œä¸æ˜¯ /install/start
```

## ğŸ“ æ€»ç»“

**ä¿®å¤å†…å®¹ï¼š**
- âœ… APIè·¯å¾„ä» `/install/start` æ”¹ä¸º `/reinstall`
- âœ… å‚æ•°ç»“æ„ä½¿ç”¨ `storage.partitioning.schemeName`
- âœ… ç”¨æˆ·å¯é€‰æ‹©é»˜è®¤æˆ–è‡ªå®šä¹‰åˆ†åŒº

**å»ºè®®ï¼š**
é‡å¯åç«¯å¹¶æµ‹è¯•ï¼ŒéªŒè¯æ–°çš„APIè·¯å¾„æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚
